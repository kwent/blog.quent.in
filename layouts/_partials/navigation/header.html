<header class="{{- if site.Params.header.sticky -}}sticky top-0 z-50{{ end }} px-4 py-6">
  <div class="border-border bg-card/80 flex items-center rounded-xl border px-6 py-4 shadow-sm backdrop-blur-sm">
    <!-- Desktop layout -->
    <div class="hidden w-full items-center md:flex md:min-w-0">
      <!-- Center: Desktop navigation (no logo) -->
      <nav class="flex flex-1 items-center justify-center min-w-0">
        <div class="flex items-center space-x-1 flex-wrap justify-center">
          {{ $currentPage := . }}
          {{ range site.Menus.main }}
          {{/* Generate language-aware URL */}}
          {{ $menuURL := .URL }}
          {{ if .PageRef }}
          {{ with site.GetPage .PageRef }}
          {{ $menuURL = .RelPermalink }}
          {{ else }}
          {{ $menuURL = .URL | relLangURL }}
          {{ end }}
          {{ end }}
          {{ $isActive := eq $currentPage.RelPermalink $menuURL }}
          <a href="{{ $menuURL }}"
            class="nav-link {{ if $isActive }}
                nav-active-indicator bg-accent text-accent-foreground
              {{ else }}
                text-muted-foreground hover:text-primary hover:bg-primary/10
              {{ end }} focus:ring-primary/20 relative flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none">
            {{ if .Params.icon }}
            {{ partial "features/icon.html" (dict "name" .Params.icon "size" "md" "ariaLabel" .Name) }}
            {{ end }}
            <span>{{ or (T .Identifier) .Name | safeHTML }}</span>
          </a>
          {{ end }}
        </div>
      </nav>

      <!-- Right: Desktop control area -->
      <div class="flex items-center space-x-2">
        <!-- Language switcher -->
        {{ partial "ui/language-switcher.html" . }}

        <!-- Theme style switcher -->
        {{ partial "ui/theme-switcher.html" . }}

        <!-- Dark mode switcher -->
        {{ partial "ui/dark-mode-switcher.html" . }}
      </div>
    </div>

    <!-- Mobile layout -->
    <div class="flex w-full items-center justify-between md:hidden">
      <!-- Left: Mobile menu button -->
      {{ partial "navigation/mobile-menu-toggle.html" . }}

      <!-- Right: Mobile control area -->
      <div class="flex items-center space-x-2">
        <!-- Language switcher -->
        {{ partial "ui/language-switcher.html" . }}

        <!-- Theme style switcher -->
        {{ partial "ui/theme-switcher.html" . }}

        <!-- Dark mode switcher -->
        {{ partial "ui/dark-mode-switcher.html" . }}
      </div>
    </div>
  </div>
</header>
