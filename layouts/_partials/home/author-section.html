{{/* Author section with location support */}}
{{ $author := .Params.author | default site.Params.author }}

{{ if $author }}
  <section class="author-section mb-12">
    <div class="bg-card border-border rounded-xl border p-8 shadow-sm">
      <div
        class="flex flex-col items-center gap-6 text-center md:flex-row md:items-start md:text-left">
        <!-- Avatar -->
        <div class="shrink-0">
          {{ if $author.avatar }}
            <img
              src="{{ $author.avatar }}"
              alt="{{ $author.name | default site.Title }}"
              class="border-primary/20 h-24 w-24 rounded-full border-4 object-cover shadow-lg" />
          {{ else }}
            <div
              class="bg-primary text-primary-foreground flex h-24 w-24 items-center justify-center rounded-full text-2xl font-bold shadow-lg">
              {{ substr ($author.name | default site.Title) 0 1 | upper }}
            </div>
          {{ end }}
        </div>

        <!-- Author info -->
        <div class="min-w-0 flex-1">
          <h1 class="text-foreground mb-2 text-3xl font-bold">
            {{ $author.name | default site.Title }}
          </h1>

          {{ if $author.title }}
            <p class="text-muted-foreground mb-3 text-lg">
              {{ $author.title }}
            </p>
          {{ end }}

          {{ if $author.location }}
            <p class="text-muted-foreground mb-3 flex items-center justify-center gap-1.5 md:justify-start">
              {{ partial "features/icon.html" (dict "name" "map-pin" "size" "sm" "ariaLabel" "Location") }}
              <span>{{ $author.location }}</span>
            </p>
          {{ end }}

          {{ if $author.description }}
            <p class="text-foreground mb-4 leading-relaxed">
              {{ $author.description }}
            </p>
          {{ end }}

          <!-- Social links -->
          {{ if $author.social }}
            <div
              class="flex flex-wrap justify-center gap-3 md:justify-start">
              {{ range $author.social }}
                <a
                  href="{{ .url }}"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="bg-muted text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 inline-flex items-center gap-2 rounded-lg px-3 py-2 transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"
                  title="{{ .name }}">
                  {{ if .icon }}
                    {{ partial "features/icon.html" (dict "name" .icon "size" "sm" "ariaLabel" .name) }}
                  {{ end }}
                  <span class="text-sm font-medium">{{ .name }}</span>
                </a>
              {{ end }}
            </div>
          {{ end }}
        </div>
      </div>
    </div>
  </section>
{{ end }}
